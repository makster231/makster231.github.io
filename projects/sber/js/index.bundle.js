!function(){"use strict";class e{elements;body=document.querySelector("body");constructor(e,t){this.elements={dialog:e,dialogBg:e.querySelector(".js_dialog_bg")},this.buttons={close:e.querySelector(".js_dialog_close"),open:t.openBtn},this.elements.dialog.addEventListener("close",(()=>this.closeModal())),this.elements.dialogBg.addEventListener("click",(()=>this.closeModal())),this.buttons.close.addEventListener("click",(()=>this.closeModal())),this.buttons.open.forEach((e=>{e.addEventListener("click",(()=>this.openModal()))}))}openModal(){this.elements.dialog.showModal(),body.classList.add("js_scroll-disable")}closeModal(){this.elements.dialog.close(),body.classList.remove("js_scroll-disable")}}window.addEventListener("load",(async function(){const t=document.querySelector("body"),o=document.querySelector("footer"),l=document.querySelector("main"),s=matchMedia("(max-width: 640px)").matches;document.querySelectorAll(".js_add_block-link--mob").forEach((e=>{s&&e.addEventListener("click",(function(t){t.preventDefault();let o=e.dataset.href;document.location.href=o}))})),document.querySelectorAll(".accordion-container ").forEach((e=>{e.querySelector(".accordion").addEventListener("click",(function(t){e.classList.toggle("active")}))})),document.querySelector(".js_add-btn").addEventListener("click",(function(e){let t=e.target;e.target.classList.contains("js_active")?e.target.innerText="Реклама":e.target.innerHTML="Реклама. Рекламодатель АО «ЦПЛ» г. Москва ОГРН 1117746689840,&nbsp;erid&nbsp;XXXXX",t.classList.toggle("js_active")}));const n=document.querySelector(".js_dialog-1"),c=document.querySelector(".js_dialog-2"),r=document.querySelector(".js_dialog-3"),a=document.querySelector(".js_dialog-4");n&&new e(n,{openBtn:s?[...document.querySelectorAll(".add_block")].filter((e=>e.querySelector(".js_dialog_open-1"))):document.querySelectorAll(".js_dialog_open-1")}),c&&new e(c,{openBtn:s?[...document.querySelectorAll(".add_block")].filter((e=>e.querySelector(".js_dialog_open-2"))):document.querySelectorAll(".js_dialog_open-2")}),r&&new e(r,{openBtn:s?[...document.querySelectorAll(".add_block")].filter((e=>e.querySelector(".js_dialog_open-3"))):document.querySelectorAll(".js_dialog_open-3")}),a&&new e(a,{openBtn:s?[...document.querySelectorAll(".add_block")].filter((e=>e.querySelector(".js_dialog_open-4"))):document.querySelectorAll(".js_dialog_open-4")});const i=document.querySelector(".js_timer-bar"),d=document.querySelector(".timer-circle");new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?i.classList.remove("js_active"):i.classList.add("js_active")}))})).observe(d),t.style.opacity=1,t.classList.remove("transition-0");const u=document.querySelector(".js_section-intro"),y=document.querySelector(".js_hide-intro");u.classList.add("js_animation-fortuna"),y.addEventListener("click",(async function(e){const t=document.querySelector(".section-intro");l.style.display="unset",o.style.display="unset",t.style.opacity=0,await(50,new Promise((e=>setTimeout(e,50)))),t.style.display="none",function(e){let t=3e5;const o=document.querySelectorAll(".js_time_left");let l=1,n=l/300*100,c=100-n,r=document.getElementById("c1"),a=document.getElementById("c2");l++,r.style.strokeDasharray=[c,n],a.style.strokeDasharray=[n,c],r.style.strokeDashoffset=c;const i=setInterval((()=>{t-=1e3;const e=Math.floor(t/1e3/60),d=Math.floor(t/1e3%60);o.forEach((t=>{t.innerHTML=`${s?"":"0"}${e}:${d<10?"0":""}${d}`})),t<=0&&clearInterval(i),n=l/300*100,c=100-n,r.style.strokeDasharray=[c,n],a.style.strokeDasharray=[n,c],r.style.strokeDashoffset=c,l++}),1e3)}()}));const m=document.querySelector(".js_current_year");m&&(m.innerHTML=(new Date).getFullYear())}))}();